---
title: Server Architecture & Logfire Monitoring
sidebar_position: 3
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Admonition from '@theme/Admonition';

# 🏗️ Server Architecture & Real-Time Monitoring

<div className="hero hero--primary">
  <div className="container">
    <h2 className="hero__subtitle">
      Archon's backend: **Microservices + Docker + Logfire** = Complete observability for your AI knowledge engine
    </h2>
  </div>
</div>

<Admonition type="tip" icon="📚" title="Comprehensive Documentation">

The Server documentation is organized into focused sections for easier navigation:

- **[Server Overview](./server-overview)** - Architecture principles and microservices design
- **[Server Services](./server-services)** - Detailed documentation for all 20+ services
- **[Server Deployment](./server-deployment)** - Docker configuration and scaling
- **[Server Monitoring](./server-monitoring)** - Logfire integration and real-time debugging

</Admonition>

## 🎯 Quick Architecture Summary

<Admonition type="warning" icon="⚠️" title="Critical Understanding: Service Responsibilities">

**These principles are FUNDAMENTAL to understanding Archon's architecture:**

1. **Server Service (Port 8080)**: Contains **ALL** business logic, services, ML models, and data operations
2. **MCP Service (Port 8051)**: A **lightweight HTTP-based protocol wrapper** that calls Server APIs and exposes them as MCP tools
3. **Agents Service (Port 8052)**: Contains **ONLY** PydanticAI agents that use MCP tools

**There is NO business logic outside the Server. MCP and Agents are lightweight HTTP-based consumers of Server functionality.**

</Admonition>

## 🏗️ Modular Service Architecture

Archon features a **fully modular service architecture** with 20+ specialized services:

<div className="row">
  <div className="col col--6">
    <div className="card">
      <div className="card__header">
        <h4>🔧 **Core Services**</h4>
      </div>
      <div className="card__body">
        <ul>
          <li>Client Manager - Database connections</li>
          <li>Credential Service - Secure API key storage</li>
          <li>Threading Service - Performance optimization</li>
          <li>Prompt Service - AI prompt management</li>
        </ul>
        <a href="./server-services#core-services" className="button button--primary button--sm">
          View Core Services →
        </a>
      </div>
    </div>
  </div>
  <div className="col col--6">
    <div className="card">
      <div className="card__header">
        <h4>🧠 **AI & RAG Services**</h4>
      </div>
      <div className="card__body">
        <ul>
          <li>Embedding Services - OpenAI embeddings</li>
          <li>Search Services - Vector similarity search</li>
          <li>RAG Services - Document processing</li>
          <li>Storage Services - Parallel storage</li>
        </ul>
        <a href="./server-services#rag-services" className="button button--primary button--sm">
          View RAG Services →
        </a>
      </div>
    </div>
  </div>
</div>

## 🔥 Real-Time Monitoring with Logfire

<div className="row margin-top--lg">
  <div className="col col--4">
    <div className="card">
      <div className="card__header">
        <h4>🔍 **Debug Every Request**</h4>
      </div>
      <div className="card__body">
        <p>Track RAG queries, MCP tool calls, and Socket.IO events in real-time</p>
      </div>
    </div>
  </div>
  <div className="col col--4">
    <div className="card">
      <div className="card__header">
        <h4>📊 **Performance Analytics**</h4>
      </div>
      <div className="card__body">
        <p>Monitor response times, error rates, and service health</p>
      </div>
    </div>
  </div>
  <div className="col col--4">
    <div className="card">
      <div className="card__header">
        <h4>🚨 **Smart Alerts**</h4>
      </div>
      <div className="card__body">
        <p>Get notified of slow queries, high error rates, or service issues</p>
      </div>
    </div>
  </div>
</div>

<div className="text--center margin-top--lg">
  <a href="./server-monitoring" className="button button--primary button--lg">
    Learn More About Monitoring →
  </a>
</div>

## 🐳 Docker Deployment

Deploy Archon with production-ready Docker configurations:

```yaml
# Quick start
docker compose up -d

# Scale services independently
docker compose up -d --scale archon-agents=3

# Monitor health
docker compose ps
```

<div className="text--center margin-top--lg">
  <a href="./server-deployment" className="button button--secondary button--lg">
    View Deployment Guide →
  </a>
</div>

## 🚀 Quick Start

1. **Clone & Configure**
   ```bash
   git clone https://github.com/archon/archon.git
   cd archon
   cp .env.example .env
   ```

2. **Start Services**
   ```bash
   docker compose up -d
   ```

3. **Access Applications**
   - Web UI: http://localhost:3737
   - API Docs: http://localhost:8080/docs
   - MCP Server: http://localhost:8051/sse
   - Documentation: http://localhost:3838

## 📚 Documentation Navigation

<div className="row margin-top--lg">
  <div className="col col--6">
    <div className="card">
      <div className="card__header">
        <h3>🏗️ Architecture & Design</h3>
      </div>
      <div className="card__body">
        <ul>
          <li><a href="./server-overview">Server Architecture Overview</a></li>
          <li><a href="./server-services">Comprehensive Service Documentation</a></li>
          <li><a href="./api-reference">REST API Reference</a></li>
          <li><a href="./websockets">WebSocket Communication</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div className="col col--6">
    <div className="card">
      <div className="card__header">
        <h3>🚀 Operations & Deployment</h3>
      </div>
      <div className="card__body">
        <ul>
          <li><a href="./server-deployment">Docker Deployment Guide</a></li>
          <li><a href="./server-monitoring">Logfire Monitoring Setup</a></li>
          <li><a href="./configuration">Configuration Management</a></li>
          <li><a href="./testing">Testing Strategies</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

---

<div className="text--center margin-top--xl">
  <h2>Ready to dive deeper?</h2>
  <p>Start with the <a href="./server-overview">Server Architecture Overview</a> for a comprehensive understanding of Archon's backend.</p>
</div>